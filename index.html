<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Система управления проектами</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

  <main id="app">
    <!-- Форма входа -->
    <div id="login-form">
      <h1>Система управления проектами</h1>
      <form onsubmit="handleLogin(event)">
        <input type="text" id="username" placeholder="Логин" required />
        <input type="password" id="password" placeholder="Пароль" required />
        <button type="submit">Войти</button>
      </form>
    </div>

    <!-- Личный кабинет -->
    <div id="user-panel" class="hidden">
      <div class="header">
        <h2>Привет, <span id="user-name"></span>!</h2>
        <button onclick="logout()">Выйти</button>
      </div>

      <!-- Уведомления -->
      <section id="notifications" class="panel-section">
        <h3>Уведомления</h3>
        <ul id="notification-list"></ul>
      </section>

      <!-- Профиль пользователя -->
      <section id="profile" class="panel-section">
        <h3>Мой профиль</h3>
        <form onsubmit="updateProfile(event)">
          <input type="text" id="new-name" placeholder="Имя и фамилия" required />
          <input type="text" id="new-position" placeholder="Должность" required />
          <input type="text" id="new-login" placeholder="Новый логин" required />
          <input type="password" id="new-password" placeholder="Новый пароль" required />
          <select id="user-manager" class="hidden"></select>
          <button type="submit">Сохранить изменения</button>
        </form>
      </section>

      <!-- Мои задачи -->
      <section id="tasks" class="panel-section">
        <h3>Мои задачи</h3>
        <ul id="task-list"></ul>
      </section>

      <!-- Руководитель: команда -->
      <section id="manager-team" class="panel-section hidden">
        <h3>Моя команда</h3>
        <ul id="team-list"></ul>

        <h3 class="mt-6">Задачи команды</h3>
        <ul id="team-tasks"></ul>
      </section>

      <!-- Добавление задачи -->
      <section id="add-task" class="panel-section hidden">
        <h3>Добавить задачу</h3>
        <form onsubmit="createTask(event)">
          <input type="text" id="task-title" placeholder="Описание задачи" required />
          <input type="text" id="assignee" placeholder="Кому (логины через запятую)" required />
          <input type="date" id="deadline" required />
          <datalist id="users"></datalist>
          <button type="submit">Создать задачу</button>
        </form>
      </section>

      <!-- Админка -->
      <section id="admin-panel" class="panel-section hidden">
        <h3>Добавить нового пользователя</h3>
        <form onsubmit="addUser(event)">
          <input type="text" id="user-login" placeholder="Логин" required />
          <input type="text" id="user-name" placeholder="Имя и фамилия" required />
          <input type="text" id="user-position" placeholder="Должность" required />
          <input type="password" id="user-password" placeholder="Пароль" required />
          <select id="user-role" onchange="toggleManagerField(this.value)">
            <option value="user">Работник</option>
            <option value="manager">Менеджер</option>
            <option value="admin">Администратор</option>
          </select>
          <select id="user-manager" class="hidden"></select>
          <button type="submit">Добавить пользователя</button>
        </form>

        <h4 class="mt-6">Список пользователей</h4>
        <ul id="user-list"></ul>
      </section>
    </div>
  </main>

  <script src="js/main.js"></script>
</body>
</html>